# ─── Database (Neon Postgres on Vercel) ───────────────────────────
# Get this from: Neon Console > your project > Connection Details
# Or from Vercel > your project > Storage > Neon > .env.local tab
DATABASE_URL=postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require

# ─── Email (Resend) ──────────────────────────────────────────────
# https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# The "From" address for all outgoing emails.
# Must use a domain you've verified in Resend, or "onboarding@resend.dev" for testing.
RESEND_FROM_EMAIL=FIV Match <noreply@fivmatch.ro>

# ─── Lead routing ────────────────────────────────────────────────
# Default clinic email — receives all leads that don't match a routing rule (required)
CLINIC_LEADS_EMAIL=clinic@example.com

# Internal monitoring email — CC'd on every clinic notification (optional)
INTERNAL_LEADS_MONITOR_EMAIL=

# City-based routing rules (optional JSON array).
# Sends leads to specific clinic emails based on the patient's city.
# City matching is case- and diacritic-insensitive ("bucuresti" matches "București").
# If no rule matches, falls back to CLINIC_LEADS_EMAIL above.
#
# Example:
#   CLINIC_ROUTING_RULES='[{"email":"bucuresti@clinic.ro","cities":["București","Ilfov","Ploiești"]},{"email":"cluj@clinic.ro","cities":["Cluj-Napoca","Sibiu","Brașov"]}]'
#
# Leave blank or omit entirely to send all leads to CLINIC_LEADS_EMAIL.
# TODO: migrate to a "clinics" table in Neon for dynamic management.
CLINIC_ROUTING_RULES=

# ─── Security ────────────────────────────────────────────────────
# Salt used to hash IP addresses (SHA-256). Change this to a random string.
# IPs are never stored raw — only their salted hash.
IP_HASH_SALT=change-me-to-a-random-string

# Token for operator panel and lead verification endpoints
VERIFY_TOKEN=your-secret-token-here

# Internal cron token for nurture sequence automation
# Must match x-internal-token header when calling /api/internal/run-nurture
INTERNAL_CRON_TOKEN=your-secret-cron-token-here

# ─── Analytics ───────────────────────────────────────────────────
# Google Analytics 4 Measurement ID (GA4 > Admin > Data Streams > Measurement ID)
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-3KW7FVJ9L3

# Google Tag Manager (optional — leave blank if using GA4 directly)
# Get this from: GTM > your container > Container ID (starts with GTM-)
# GTM and GA4 can coexist. Events are pushed to dataLayer for both.
NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX

# Google Ads conversion tracking (optional — leave blank until you set up conversions)
# Get these from: Google Ads > Tools > Conversions > your conversion > Tag setup
NEXT_PUBLIC_GOOGLE_ADS_ID=AW-XXXXXXXXXX
NEXT_PUBLIC_GOOGLE_ADS_CONVERSION_LABEL=xXxXxXxXxXx

# ─── Site URL ────────────────────────────────────────────────────
# Used for canonical URLs, hreflang, and OG metadata.
# Set this to your production domain.
NEXT_PUBLIC_SITE_URL=https://fivmatch.ro

# ─── IndexNow (optional, free) ───────────────────────────────────
# Notify Bing/Yandex/Naver when content changes so they recrawl faster.
# Key: 8–128 chars, only [a-zA-Z0-9-]. Generate: node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
# After deploy, run: npm run indexnow
INDEXNOW_KEY=
